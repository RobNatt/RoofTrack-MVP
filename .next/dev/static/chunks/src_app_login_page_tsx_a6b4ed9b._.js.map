{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rober/OneDrive/Desktop/web%20dev%20projects/Roof-Track/src/app/login/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { useRouter, useSearchParams } from 'next/navigation';\r\nimport { createClient } from '@/lib/supabase/client';\r\n\r\nexport default function LoginPage() {\r\n    const router = useRouter();\r\n    const searchParams = useSearchParams();\r\n    const redirectTo = searchParams.get('redirect') ?? '/dashboard';\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState('');\r\n\r\n    const handleLogin = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        setError('');\r\n\r\n        try {\r\n            const supabase = createClient();\r\n            const { error: authError } = await supabase.auth.signInWithPassword({ email, password });\r\n\r\n            if (authError) throw authError;\r\n            router.push(redirectTo);\r\n            router.refresh();\r\n        } catch (err: unknown) {\r\n            setError(err instanceof Error ? err.message : 'An error occurred during login');\r\n            console.error('Login error:', err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <main className=\"flex flex-col items-center justify-center min-h-screen py-2\">\r\n            <div className=\"p-6 bg-gray-100 rounded-2xl shadow-2xl\">\r\n                <h1 className=\"text-4xl font-bold mb-8\">Login</h1>\r\n                <form onSubmit={handleLogin} className=\"text-lg gap-4 space-y-4\">\r\n                    {error && <p className=\"text-red-600 text-sm mb-2\">{error}</p>}\r\n                    <div>\r\n                        <label className=\"block\">Email</label>\r\n                        <input\r\n                            type=\"email\"\r\n                            value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                            className=\"p-3 border rounded-lg w-full\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block\">Password</label>\r\n                        <input\r\n                            type=\"password\"\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            className=\"p-3 border rounded-lg w-full\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={loading}\r\n                        className=\"block mt-4 p-3 px-6 rounded-3xl shadow-xl border-blue-900 bg-indigo-900 text-yellow-300 font-bold border-2 hover:scale-105 hover:shadow-2xl transition-all duration-300 disabled:opacity-50 disabled:pointer-events-none\"\r\n                    >\r\n                        {loading ? 'Signing inâ€¦' : 'Login'}\r\n                    </button>\r\n                </form>\r\n                <p className=\"mt-4 text-sm text-gray-600\">\r\n                    Don&apos;t have an account? <Link href=\"/signup\" className=\"text-indigo-900 font-medium\">Sign up</Link>\r\n                </p>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACpB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,eAAe,IAAA,wJAAe;IACpC,MAAM,aAAa,aAAa,GAAG,CAAC,eAAe;IAEnD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IAEnC,MAAM,cAAc,OAAO;QACvB,EAAE,cAAc;QAChB,WAAW;QACX,SAAS;QAET,IAAI;YACA,MAAM,WAAW,IAAA,mJAAY;YAC7B,MAAM,EAAE,OAAO,SAAS,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,kBAAkB,CAAC;gBAAE;gBAAO;YAAS;YAEtF,IAAI,WAAW,MAAM;YACrB,OAAO,IAAI,CAAC;YACZ,OAAO,OAAO;QAClB,EAAE,OAAO,KAAc;YACnB,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;YAC9C,QAAQ,KAAK,CAAC,gBAAgB;QAClC,SAAU;YACN,WAAW;QACf;IACJ;IAEA,qBACI,6LAAC;QAAK,WAAU;kBACZ,cAAA,6LAAC;YAAI,WAAU;;8BACX,6LAAC;oBAAG,WAAU;8BAA0B;;;;;;8BACxC,6LAAC;oBAAK,UAAU;oBAAa,WAAU;;wBAClC,uBAAS,6LAAC;4BAAE,WAAU;sCAA6B;;;;;;sCACpD,6LAAC;;8CACG,6LAAC;oCAAM,WAAU;8CAAQ;;;;;;8CACzB,6LAAC;oCACG,MAAK;oCACL,OAAO;oCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oCACxC,WAAU;oCACV,QAAQ;;;;;;;;;;;;sCAGhB,6LAAC;;8CACG,6LAAC;oCAAM,WAAU;8CAAQ;;;;;;8CACzB,6LAAC;oCACG,MAAK;oCACL,OAAO;oCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oCAC3C,WAAU;oCACV,QAAQ;;;;;;;;;;;;sCAGhB,6LAAC;4BACG,MAAK;4BACL,UAAU;4BACV,WAAU;sCAET,UAAU,gBAAgB;;;;;;;;;;;;8BAGnC,6LAAC;oBAAE,WAAU;;wBAA6B;sCACV,6LAAC,0KAAI;4BAAC,MAAK;4BAAU,WAAU;sCAA8B;;;;;;;;;;;;;;;;;;;;;;;AAK7G;GAtEwB;;QACL,kJAAS;QACH,wJAAe;;;KAFhB"}}]
}