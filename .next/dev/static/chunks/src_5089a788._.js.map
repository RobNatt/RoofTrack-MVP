{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rober/OneDrive/Desktop/web%20dev%20projects/Roof-Track/src/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nconst supabaseUrl = 'https://ixfuxlkefhujvlubwvbl.supabase.co'\r\nconst supabaseAnonKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml4ZnV4bGtlZmh1anZsdWJ3dmJsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk3MjgxOTcsImV4cCI6MjA4NTMwNDE5N30.VTjmyqeRlYmk-VOES8bidCO7tiXv4XePHesjwHjZH_U'\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey)"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,cAAc;AACpB,MAAM,kBAAkB;AAEjB,MAAM,WAAW,IAAA,iMAAY,EAAC,aAAa"}},
    {"offset": {"line": 20, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rober/OneDrive/Desktop/web%20dev%20projects/Roof-Track/src/types/Lead.ts"],"sourcesContent":["export const LeadStatus = [\r\n    'not contacted',\r\n    'contacted',\r\n    'inspection',\r\n    'damages',\r\n    'follow up',\r\n    'closed - won',\r\n    'closed - lost',\r\n    'contractor',\r\n    'not interested',\r\n    'do not contact',\r\n] as const;\r\n\r\nexport const StatusColors: Record<LeadStatus, string> = {\r\n    'not contacted': '#04be04',\r\n    'contacted': '#faf605',\r\n    'inspection': '#ff7b00',\r\n    'damages': '#ff0000',\r\n    'follow up': '#f70098',\r\n    'closed - won': '#0c6800',\r\n    'closed - lost': '#2c2c2c',\r\n    'contractor': '#2c2c2c',\r\n    'not interested': '#2c2c2c',\r\n    'do not contact': '#2c2c2c',\r\n};\r\n\r\nexport type LeadStatus = (typeof LeadStatus)[number]; \r\n\r\ninterface Lead {\r\n    /* basic lead info */\r\n    id: string;\r\n    fullName: string;\r\n    email: string;\r\n    phoneNumber: number;\r\n    address: string;\r\n    datedAdded: Date;\r\n    status: LeadStatus;\r\n    /** Geographic coordinates of the lead's address for knock map tracker */\r\n    coordinates?: {\r\n        latitude: number;\r\n        longitude: number;\r\n    };\r\n    notes?: string;\r\n    preferredContactMethod: 'email' | 'phone' | 'none'; /*set up for marketing/contact tasks*/\r\n    dateLastContacted: Date;\r\n}\r\n\r\nexport default Lead;"],"names":[],"mappings":";;;;;;AAAO,MAAM,aAAa;IACtB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH;AAEM,MAAM,eAA2C;IACpD,iBAAiB;IACjB,aAAa;IACb,cAAc;IACd,WAAW;IACX,aAAa;IACb,gBAAgB;IAChB,iBAAiB;IACjB,cAAc;IACd,kBAAkB;IAClB,kBAAkB;AACtB"}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rober/OneDrive/Desktop/web%20dev%20projects/Roof-Track/src/components/territoryMap.tsx"],"sourcesContent":["'use client';\r\nimport { useCallback, useRef, useState } from 'react';\r\nimport { GoogleMap, Marker, useJsApiLoader } from '@react-google-maps/api';\r\nimport { LeadStatus, StatusColors } from '@/types/Lead';\r\nimport {\r\n  Popover,\r\n  PopoverContent,\r\n  PopoverDescription,\r\n  PopoverHeader,\r\n  PopoverTitle,\r\n  PopoverTrigger,\r\n} from \"@/components/ui/popover\"\r\n\r\ntype MapMarker = {\r\n    id: string;\r\n    position: { lat: number; lng: number };\r\n    status: LeadStatus;\r\n};\r\n\r\ntype TerritoryMapProps = {\r\n    center?: { lat: number; lng: number };\r\n    zoom?: number;\r\n    markers?: MapMarker[];\r\n    onAddMarker?: (marker: MapMarker) => void;\r\n};\r\n\r\nconst leadTriggerStatuses: LeadStatus[] = ['inspection', 'damages', 'follow up'];\r\nleadTriggerStatuses.includes('inspection');\r\nleadTriggerStatuses.includes('damages');\r\nleadTriggerStatuses.includes('follow up');\r\nleadTriggerStatuses.includes('closed - won');\r\n\r\nfunction getMarkerIcon(status: LeadStatus) {\r\n    return {\r\n        path: \"M 0,0 C -2,-20 -10,-22 -10,-32 A 10,10 0 0,1 10,-32 C 10,-22 2,-20 0,0\", // marker shape\r\n        fillColor: StatusColors[status], // color based on status\r\n        fillOpacity: 1,\r\n        strokeColor: '#000000',\r\n        strokeWeight: 1.5,\r\n        scale: .8,\r\n}} \r\n\r\nexport default function TerritoryMap({\r\n    center = { lat: 41.2565, lng: -95.9345 },\r\n    zoom = 12,\r\n    markers = [],\r\n    onAddMarker,\r\n}: TerritoryMapProps) {\r\n    const { isLoaded } = useJsApiLoader({\r\n        googleMapsApiKey: process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY || '',\r\n    });\r\n    const mapRef = useRef<google.maps.Map | null>(null);\r\n\r\n    const [selectedMarker, setSelectedMarker] = useState<MapMarker | null>(null);\r\n    const setLeadStatus = (status: LeadStatus) => {\r\n    if (selectedMarker) {\r\n        setSelectedMarker({ ...selectedMarker, status });\r\n    }\r\n};\r\n\r\nconst [leadFormData, setLeadFormData] = useState({\r\n    fullName: '',\r\n    email: '',\r\n    phoneNumber: '',\r\n    address: '',\r\n    notes: '',\r\n    preferredContactMethod: 'none' as 'email' | 'phone' | 'none', \r\n});\r\n\r\n    const onLoad = useCallback((map: google.maps.Map) => {\r\n        mapRef.current = map;\r\n        map.setCenter(center);\r\n    }, []);\r\n\r\n    const onUnmount = useCallback(() => {\r\n        mapRef.current = null;\r\n    }, []);\r\n\r\n    const handleMapClick = useCallback((event: google.maps.MapMouseEvent) => {\r\n        if (event.latLng && onAddMarker) {\r\n            const newMarker: MapMarker = {\r\n                id: `marker-${Date.now()}`,\r\n                position: {\r\n                    lat: event.latLng.lat(),\r\n                    lng: event.latLng.lng(),\r\n                },\r\n                status: 'not contacted', // default status\r\n            };\r\n            onAddMarker(newMarker);\r\n        }\r\n    }, [onAddMarker]);\r\n\r\n    if (!isLoaded) {\r\n        return <div>Loading Map...</div>;\r\n    }\r\n\r\n   return (\r\n    <div className=\"w-full flex justify-center items-center relative\">\r\n        <GoogleMap\r\n            mapContainerStyle={{ width: '95%', height: '70vh' }}\r\n            zoom={zoom}\r\n            onLoad={onLoad}\r\n            onUnmount={onUnmount}\r\n            onClick={handleMapClick}\r\n        >\r\n            {markers.map((marker) => (\r\n                <Marker \r\n                    key={marker.id}\r\n                    position={marker.position}\r\n                    icon={getMarkerIcon(marker.status)}\r\n                    onClick={() => setSelectedMarker(marker)}\r\n                />\r\n            ))}\r\n        </GoogleMap>\r\n\r\n        {/* Popover appears as overlay when marker is selected */}\r\n        {selectedMarker && (\r\n            <div className=\"absolute top-8 right-48 z-50 bg-white rounded-lg shadow-xl p-6 w-96\">\r\n                {/* Close button */}\r\n                <button \r\n                    onClick={() => setSelectedMarker(null)}\r\n                    className=\"absolute top-2 right-2 text-gray-500 hover:text-gray-700\"\r\n                >\r\n                    âœ•\r\n                </button>\r\n\r\n                <h3 className=\"text-lg font-bold mb-4\">Update Lead Status</h3>\r\n                \r\n                {/* Status Dropdown */}\r\n                <div className=\"mb-4\">\r\n                    <label className=\"block text-sm font-semibold mb-2\">Status</label>\r\n                    <select \r\n                        value={selectedMarker.status}\r\n                        onChange={(e) => {\r\n                            const newStatus = e.target.value as LeadStatus;\r\n                            setSelectedMarker({ ...selectedMarker, status: newStatus });\r\n                        }}\r\n                        className=\"w-full p-2 border rounded\"\r\n                    >\r\n                        {LeadStatus.map((status) => (\r\n                            <option key={status} value={status}>\r\n                                {status}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n\r\n                {/* Conditional Lead Form */}\r\n                {leadTriggerStatuses.includes(selectedMarker.status) && (\r\n                    <div className=\"border-t pt-4\">\r\n                                {/* Full Name */}\r\n        <div>\r\n            <label className=\"block text-sm font-medium mb-1\">Full Name *</label>\r\n            <input \r\n                type=\"text\"\r\n                value={leadFormData.fullName}\r\n                onChange={(e) => setLeadFormData({...leadFormData, fullName: e.target.value})}\r\n                className=\"w-full p-2 border rounded\"\r\n                required\r\n            />\r\n        </div>\r\n\r\n        {/* Email */}\r\n        <div>\r\n            <label className=\"block text-sm font-medium mb-1\">Email *</label>\r\n            <input \r\n                type=\"email\"\r\n                value={leadFormData.email}\r\n                onChange={(e) => setLeadFormData({...leadFormData, email: e.target.value})}\r\n                className=\"w-full p-2 border rounded\"\r\n                required\r\n            />\r\n        </div>\r\n\r\n        {/* Phone */}\r\n        <div>\r\n            <label className=\"block text-sm font-medium mb-1\">Phone Number *</label>\r\n            <input \r\n                type=\"tel\"\r\n                value={leadFormData.phoneNumber}\r\n                onChange={(e) => setLeadFormData({...leadFormData, phoneNumber: e.target.value})}\r\n                className=\"w-full p-2 border rounded\"\r\n                required\r\n            />\r\n        </div>\r\n\r\n        {/* Address */}\r\n        <div>\r\n            <label className=\"block text-sm font-medium mb-1\">Address *</label>\r\n            <input \r\n                type=\"text\"\r\n                value={leadFormData.address}\r\n                onChange={(e) => setLeadFormData({...leadFormData, address: e.target.value})}\r\n                className=\"w-full p-2 border rounded\"\r\n                required\r\n            />\r\n        </div>\r\n\r\n        {/* Preferred Contact */}\r\n        <div>\r\n            <label className=\"block text-sm font-medium mb-1\">Preferred Contact Method</label>\r\n            <select \r\n                value={leadFormData.preferredContactMethod}\r\n                onChange={(e) => setLeadFormData({...leadFormData, preferredContactMethod: e.target.value as 'email' | 'phone' | 'none'})}\r\n                className=\"w-full p-2 border rounded\"\r\n            >\r\n                <option value=\"none\">None</option>\r\n                <option value=\"email\">Email</option>\r\n                <option value=\"phone\">Phone</option>\r\n            </select>\r\n        </div>\r\n\r\n        {/* Notes */}\r\n        <div>\r\n            <label className=\"block text-sm font-medium mb-1\">Notes</label>\r\n            <textarea \r\n                value={leadFormData.notes}\r\n                onChange={(e) => setLeadFormData({...leadFormData, notes: e.target.value})}\r\n                className=\"w-full p-2 border rounded\"\r\n                rows={3}\r\n            />\r\n        </div>\r\n\r\n        {/* Submit Button */}\r\n        <button \r\n            onClick={() => {\r\n                // TODO: Handle submit\r\n                console.log('Lead data:', leadFormData);\r\n                console.log('Marker:', selectedMarker);\r\n            }}\r\n            className=\"w-full bg-indigo-900 text-white py-2 px-4 rounded hover:bg-indigo-800 transition-colors\"\r\n        >\r\n            Create Lead\r\n        </button>\r\n\r\n                    </div>\r\n                )}\r\n            </div>\r\n        )}\r\n    </div>\r\n);\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 493, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rober/OneDrive/Desktop/web%20dev%20projects/Roof-Track/src/app/dashboard/territoryManagement/page.tsx"],"sourcesContent":["'use client';\r\nimport { supabase } from '@/lib/supabase';\r\nimport { useEffect } from 'react';\r\nimport { useState } from \"react\";\r\nimport TerritoryMap from \"@/components/territoryMap\";\r\n\r\nexport default function TerritoryManagementPage() {\r\n    const [markers, setMarkers] = useState<any[]>([]);\r\n\r\n    const handleAddMarker = (marker: any) => {\r\n        setMarkers([...markers, marker]);\r\n        console.log(\"New pin dropped:\", marker);\r\n    };\r\n\r\n    useEffect(() => {\r\n    const testConnection = async () => {\r\n        const { data, error } = await supabase.from('companies').select('*');\r\n        console.log('Supabase test:', data, error);\r\n    };\r\n    testConnection();\r\n}, []);\r\n\r\n    return <TerritoryMap markers={markers} onAddMarker={handleAddMarker} />;\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;;;AAJA;;;;;AAMe,SAAS;;IACpB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAQ,EAAE;IAEhD,MAAM,kBAAkB,CAAC;QACrB,WAAW;eAAI;YAAS;SAAO;QAC/B,QAAQ,GAAG,CAAC,oBAAoB;IACpC;IAEA,IAAA,0KAAS;6CAAC;YACV,MAAM;oEAAiB;oBACnB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,qIAAQ,CAAC,IAAI,CAAC,aAAa,MAAM,CAAC;oBAChE,QAAQ,GAAG,CAAC,kBAAkB,MAAM;gBACxC;;YACA;QACJ;4CAAG,EAAE;IAED,qBAAO,6LAAC,gJAAY;QAAC,SAAS;QAAS,aAAa;;;;;;AACxD;GAjBwB;KAAA"}}]
}