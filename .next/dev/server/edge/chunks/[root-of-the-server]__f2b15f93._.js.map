{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["import { createServerClient } from '@supabase/ssr';\nimport { NextResponse, type NextRequest } from 'next/server';\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL ?? 'https://ixfuxlkefhujvlubwvbl.supabase.co';\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY ?? 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml4ZnV4bGtlZmh1anZsdWJ3dmJsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk3MjgxOTcsImV4cCI6MjA4NTMwNDE5N30.VTjmyqeRlYmk-VOES8bidCO7tiXv4XePHesjwHjZH_U';\n\nexport async function middleware(request: NextRequest) {\n  let response = NextResponse.next({ request });\n\n  const supabase = createServerClient(supabaseUrl, supabaseAnonKey, {\n    cookies: {\n      getAll() {\n        return request.cookies.getAll();\n      },\n      setAll(cookiesToSet) {\n        cookiesToSet.forEach(({ name, value, options }) => {\n          response.cookies.set(name, value, options);\n        });\n      },\n    },\n  });\n\n  // Refresh session and sync cookies\n  const { data: { user } } = await supabase.auth.getUser();\n  const pathname = request.nextUrl.pathname;\n\n  const isProtectedRoute = pathname.startsWith('/dashboard') || pathname.startsWith('/leads');\n  const isAuthRoute = pathname === '/login' || pathname === '/signup';\n\n  if (isProtectedRoute && !user) {\n    const loginUrl = new URL('/login', request.url);\n    loginUrl.searchParams.set('redirect', pathname);\n    return NextResponse.redirect(loginUrl);\n  }\n\n  if (isAuthRoute && user) {\n    return NextResponse.redirect(new URL('/dashboard', request.url));\n  }\n\n  return response;\n}\n\nexport const config = {\n  matcher: [\n    /*\n     * Match all request paths except:\n     * - _next/static (static files)\n     * - _next/image (image optimization)\n     * - favicon.ico\n     * - public folder\n     */\n    '/((?!_next/static|_next/image|favicon.ico|.*\\\\.(?:svg|png|jpg|jpeg|gif|webp)$).*)',\n  ],\n};\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AAAA;;;AAEA,MAAM,cAAc,QAAQ,GAAG,CAAC,wBAAwB,IAAI;AAC5D,MAAM,kBAAkB,QAAQ,GAAG,CAAC,6BAA6B,IAAI;AAE9D,eAAe,WAAW,OAAoB;IACnD,IAAI,WAAW,gMAAY,CAAC,IAAI,CAAC;QAAE;IAAQ;IAE3C,MAAM,WAAW,IAAA,uMAAkB,EAAC,aAAa,iBAAiB;QAChE,SAAS;YACP;gBACE,OAAO,QAAQ,OAAO,CAAC,MAAM;YAC/B;YACA,QAAO,YAAY;gBACjB,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE;oBAC5C,SAAS,OAAO,CAAC,GAAG,CAAC,MAAM,OAAO;gBACpC;YACF;QACF;IACF;IAEA,mCAAmC;IACnC,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IACtD,MAAM,WAAW,QAAQ,OAAO,CAAC,QAAQ;IAEzC,MAAM,mBAAmB,SAAS,UAAU,CAAC,iBAAiB,SAAS,UAAU,CAAC;IAClF,MAAM,cAAc,aAAa,YAAY,aAAa;IAE1D,IAAI,oBAAoB,CAAC,MAAM;QAC7B,MAAM,WAAW,IAAI,IAAI,UAAU,QAAQ,GAAG;QAC9C,SAAS,YAAY,CAAC,GAAG,CAAC,YAAY;QACtC,OAAO,gMAAY,CAAC,QAAQ,CAAC;IAC/B;IAEA,IAAI,eAAe,MAAM;QACvB,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,cAAc,QAAQ,GAAG;IAChE;IAEA,OAAO;AACT;AAEO,MAAM,SAAS;IACpB,SAAS;QACP;;;;;;KAMC,GACD;KACD;AACH"}}]
}